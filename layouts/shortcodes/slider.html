{{/* slider: Bootstrap v5 Carousel
     사용법 예시:
     {{< slider id="proj-slider" interval="3500"
          imgs="/images/slide1.jpg,/images/slide2.jpg,/images/slide3.jpg"
          captions="Unity 데모|카메라 다이내믹스|웹 디자인" >}}
*/}}
{{- $id := .Get "id" | default "kgd-slider" -}}
{{- $interval := .Get "interval" | default "4000" -}}
{{- $imgs := split (.Get "imgs") "," -}}
{{- $caps := split ((.Get "captions") | default "") "|" -}}

<div id="{{ $id }}" class="carousel slide" data-bs-ride="carousel" data-bs-interval="{{ $interval }}">
  <div class="carousel-indicators">
    {{- range $i, $_ := $imgs -}}
      <button type="button" data-bs-target="#{{ $id }}" data-bs-slide-to="{{ $i }}" class="{{ if eq $i 0 }}active{{ end }}" aria-current="{{ if eq $i 0 }}true{{ end }}" aria-label="Slide {{ add $i 1 }}"></button>
    {{- end -}}
  </div>

  <div class="carousel-inner rounded-2 overflow-hidden">
    {{- range $i, $src := $imgs -}}
      <div class="carousel-item {{ if eq $i 0 }}active{{ end }}">
        <img src="{{ $src | relURL }}" class="d-block w-100" alt="slide {{ add $i 1 }}">
        {{- with index $caps $i -}}
          {{- if . -}}
            <div class="carousel-caption d-none d-md-block">
              <h5 class="mb-1">{{ . }}</h5>
            </div>
          {{- end -}}
        {{- end -}}
      </div>
    {{- end -}}
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#{{ $id }}" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#{{ $id }}" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span>
  </button>
</div>
